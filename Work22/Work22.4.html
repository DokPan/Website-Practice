<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Пинг-понг</title>
    <style>
        #gameArea {
            width: 600px;
            height: 400px;
            border: 2px solid black;
            position: relative;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        #ball {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: red;
            position: absolute;
            left: 300px;
            top: 200px;
        }
        #paddle {
            width: 10px;
            height: 80px;
            background-color: blue;
            position: absolute;
            right: 10px;
            top: 160px;
        }
    </style>
</head>
<body>
    <h2>Пинг-понг: двигайте ракетку стрелками ↑ и ↓</h2>
    <div id="gameArea">
        <div id="ball"></div>
        <div id="paddle"></div>
    </div>

    <script>
        let ball = document.getElementById("ball");
        let paddle = document.getElementById("paddle");
        let ballSpeedX = 4, ballSpeedY = 3;
        let paddleSpeed = 20;

        function moveBall() {
            let ballRect = ball.getBoundingClientRect();
            let paddleRect = paddle.getBoundingClientRect();
            let gameRect = document.getElementById("gameArea").getBoundingClientRect();

            ball.style.left = (ball.offsetLeft + ballSpeedX) + "px";
            ball.style.top = (ball.offsetTop + ballSpeedY) + "px";

            if (ball.offsetTop <= 0 || ball.offsetTop >= gameRect.height - 20) ballSpeedY *= -1;
            if (ball.offsetLeft <= 0) ballSpeedX *= -1;

            if (ballRect.right >= paddleRect.left && 
                ballRect.bottom >= paddleRect.top &&
                ballRect.top <= paddleRect.bottom) {
                ballSpeedX *= -1;
            }

            if (ball.offsetLeft > gameRect.width) {
                alert("Вы проиграли!");
                ball.style.left = "300px";
                ball.style.top = "200px";
                ballSpeedX = -4;
            }
        }

        document.addEventListener("keydown", (event) => {
            let top = paddle.offsetTop;
            if (event.key === "ArrowUp" && top > 0) paddle.style.top = (top - paddleSpeed) + "px";
            if (event.key === "ArrowDown" && top < 320) paddle.style.top = (top + paddleSpeed) + "px";
        });

        setInterval(moveBall, 30);
    </script>
</body>
</html>
